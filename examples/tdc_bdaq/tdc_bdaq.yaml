#
# ------------------------------------------------------------
# Copyright (c) All rights reserved
# SiLab, Physics Institute, University of Bonn
# ------------------------------------------------------------
#

transfer_layer:
  - name  : intf
    type  : SiTcp
    init:
        ip : "192.168.10.16"
        udp_port : 4660
        tcp_port : 24
        tcp_connection : True

hw_drivers:
  - name      : GPIO_DRV
    type      : gpio
    interface : intf
    base_addr : 0x1000
    size      : 8

  - name      : TDL_TDC
    type      : tdl_tdc
    interface : intf
    base_addr : 0x1020

  - name      : SEQ_GEN
    type      : seq_gen
    interface : intf
    base_addr : 0x1120

  - name      : FIFO
    type      : sitcp_fifo
    interface : intf
    base_addr : 0x200000000
    base_data_addr : 0x100000000

  - name      : i2c
    type      : i2c
    interface : intf
    base_addr : 0x6000

registers:
  - name      : SEQ
    type      : TrackRegister
    hw_driver : SEQ_GEN
    seq_width : 8
    seq_size  : 65535 
    tracks:
      - name      : TDC_TRIGGER_IN
        position  : 0
      - name      : TDC_IN
        position  : 1
      - name      : UNUSED1
        position  : 2
      - name      : UNUSED2
        position  : 3
      - name      : UNUSED3
        position  : 4
      - name      : UNUSED4
        position  : 5
      - name      : UNUSED5
        position  : 6
      - name      : UNUSED6
        position  : 7

  - name        : CONTROL
    type        : StdRegister
    hw_driver   : GPIO_DRV
    size        : 8
    fields:
      - name    : EN
        size    : 1
        offset  : 0
      - name    : ARM
        size    : 1
        offset  : 1
