#
# ------------------------------------------------------------
# Copyright (c) All rights reserved
# SiLab, Institute of Physics, University of Bonn
# ------------------------------------------------------------
#
# SVN revision information:
#  $Rev::                       $:
#  $Author::                    $:
#  $Date::                      $:
#
---
name    : ExamplePixelDut 
version : 0.01

transfer_layer:
    - name  : usb
      type  : SimSiUsb
      board_id  : -1
      bit_file : '../ise/pixel.bit'
    
hw_drivers:    
  - name      : DATA
    type      : sram_fifo
    interface : usb
    base_addr : 0x10020 
    base_data_addr: 0x0001000000000000

  - name      : SEQ_GEN
    type      : seq_gen
    interface : usb
    mem_size  : 8192
    base_addr : 0x11000

  - name      : TDC
    type      : tdc_s3
    interface : usb
    base_addr : 0x10200

  - name      : PIXEL_RX
    type      : fast_spi_rx
    interface : usb
    base_addr : 0x10100
 
registers:

  - name        : GLOBAL_REG
    type        : StdRegister
    driver      : None
    size        : 176     
    fields  : 
          - name     : global_readout_enable 
            size     : 1         
            offset   : 175
          - name     : SRDO_load 
            size     : 1         
            offset   : 174
          - name     : NCout2 
            size     : 1         
            offset   : 173
 
          - name     : DEFAULT0 
            size     : 8         
            offset   : 143
          - name     : DEFAULT1 
            size     : 8         
            offset   : 135
          - name     : DEFAULT2 
            size     : 8         
            offset   : 127
          - name     : DEFAULT3 
            size     : 8         
            offset   : 119
          - name     : DisVbn 
            size     : 8         
            offset   : 111
          
    
  - name        : PIXEL_REG
    type        : StdRegister
    driver      : None
    size        : 128

  - name        : SEQ
    type        : TrackRegister
    hw_driver   : SEQ_GEN
    seq_width   : 8
    seq_size    : 8192
    tracks  : 
      - name     : SHIFT_IN
        position : 0
      - name     : GLOBAL_SHIFT_EN
        position : 1  
      - name     : GLOBAL_CTR_LD
        position : 2
      - name     : GLOBAL_DAC_LD
        position : 3
      - name     : PIXEL_SHIFT_EN
        position : 4
      - name     : INJECTION
        position : 5
      - name     : NOT_USED_0
        position : 6
      - name     : NOT_USED_1
        position : 7

